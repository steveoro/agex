<!-- Main menu section: -->
<%= render( :partial => AGEX_APP + '/main_menu') %>

<h1><%= "#{t(:manage_project)} '#{@project_name}'" %></h1>

<script type="text/javascript" >
	Ext.onReady(
		function() {
			Ext.create( 'Ext.Container', {
				renderTo: Ext.get('agex_top_actions'),
				layout : {
					type: 'hbox',
					maxHeight: 30
				},
				items : [
					<%= create_extjs_button_config( :back_to_projects_list,	nil, projects_path(), 			'application_view_list.png' ) %>,
					<%= create_extjs_button_config( :refresh, 				nil, request.fullpath(), 		'arrow_refresh.png' ) %>,
					<%= create_extjs_button_config( :project_milestones, 	nil, milestones_project_path(), 'bricks.png' ) %>,
					<%= create_extjs_button_config( :project_activity_graph,nil, activity_project_path(),	'chart_bar.png' ) %>
				]
			});
		}		
	);
</script>

<div id='agex_top_actions'></div>

<%= netzke :project_manage_panel, {
    :class_name => "FilteredProjectManagePanel",
    :title => "#{I18n.t(:details_for)} \'#{@project_name}\'",
    :record_id => @project_id,
    :default_currency_id => @default_currency_id,
	:current_team_id => @current_team_id,
    :default_human_resource_id => @default_human_resource_id,
	:filtering_date_start  => @filtering_date_start,
	:filtering_date_end    => @filtering_date_end,

    :min_width => 500,
	:width => "98%",
    :height => @max_view_height,
	:view_config => {
		:force_fit => true
	}
} %>
